/----------------------------------------------
/----------------------------------------------

* VALUE CATEGORY:
 - What is the difference between "expression" and "statement"?
   expression --> 10, x, x+10, a*a + b*b > 10. etc (operators, objects, constants, etc.)
   statement  --> all expressions which have ; at the end. 
	              x = 10  --> expression
				  x = 10; --> statement (expression statement)
	- "const" keyword doesnt effect the value category 

- What is the data type?
	- int, int*, int&, int [], int (*)(int), etc.

- The value category types in Cpp:
	- L Value (Left Value):
	  the values that point objects
	  they have a place in the memory 

	- X Value (Expiring Value):
	  not defined in C language
	  the values that point objects
	  kodda doðrudan bir isim olarak karþýmýza çýkmaz (bir kimliði yoktur.)
	  
	- PR Value (Pure Right Value):
	  the values that not point any objects
	  they dont have any place in the memory 

	- L Value + X Value = GL Value 
	- PR Value + X Value = R Value 

- A value belongs to only one of the above value categories !!!
/----------------------------------------------
#include <iostream>

struct Data{
	int x, y;
};

int main() {
	
	int number = 10; // number --> L Value
	
	Data myData; // myData --> L Value 
	myData.x;    // myData.x --> L Value 

	int* ptr = &number; // (*ptr) --> L Value
	int array[5]{};     // array[2] --> L Value
}

/----------------------------------------------
/----------------------------------------------

* The differences of value categories between C and CPP ? 
				C			   C++
			----------		-----------
	++x		  R-Value		  L-Value
	--x		  R-Value		  L-Value
	a,b		  R-Value		  L-Value (even if right operand is an object)
	x++		  R-Value		  PR-Value 
	x--		  R-Value		  PR-Value
x>0 ? y:z	  R-Value		  L-Value (for operands)

/----------------------------------------------
/----------------------------------------------

* ValueCategory.h --> 
/----------------------------------------------
#pragma once
#include <iostream>

template <typename T>
struct ValueCategory {
	constexpr static const char* ptrstr{ "PR Value" };
};

template <typename T>
struct ValueCategory<T &> {
	constexpr static const char* ptrstr{ "L Value" };
};

template <typename T>
struct ValueCategory<T &&> {
	constexpr static const char* ptrstr{ "X Value" };
};

#define valuecategory(exp) (std::cout << "Value category of \"" #exp"\" is : " << ValueCategory<decltype((exp))>::ptrstr << "\n");


* main.cpp -->
/----------------------------------------------
#include <iostream>
#include "ValueCategory.h"

int foo();
int& func();
int&& xfunc();

int main() {
	
	int number = 10;		   // number --> L Value
	const int realNumber = 0;  // realNumber --> L Value 
	int& refNumber = ++number; // ++number is L Value and  &refNumber is L Value
	// int& refNumber = number++;  --> Error : number++ is R Value, &refNumber is L Value 

	int firstNumber = 10;
	int secondNumber = 20;
	int& ref = (firstNumber, secondNumber);
	int array[10]{};

	valuecategory(number);      // Value category of "number" is : L Value
	valuecategory(realNumber);  // Value category of "realNumber" is : L Value
	valuecategory(number++);    // Value category of "number++" is : PR Value
	valuecategory(number--);    // Value category of "number--" is : PR Value
	valuecategory(++number);    // Value category of "++number" is : L Value
	valuecategory(--number);    // Value category of "--number" is : L Value

	valuecategory(refNumber);   // Value category of "refNumber" is : L Value
	valuecategory(ref);         // Value category of "ref" is : L Value
	valuecategory(array);       // Value category of "array" is : L Value
		
	valuecategory(foo());       // Value category of "foo()" is : PR Value
	valuecategory(func());      // Value category of "func()" is : L Value
	valuecategory(xfunc());     // Value category of "xfunc()" is : X Value
}

/----------------------------------------------
/----------------------------------------------

* What is unevaluated context? --> for array[3] in the following example

#include <iostream>
#include "ValueCategory.h"

int main() {
	
	int array[2] = {0,1};
	sizeof(array[3]);
	
	valuecategory(sizeof(array[3])); // Value category of "sizeof(array[3])" is : PR Value

	std::cout << "sizeof(array[3]) :  " << sizeof(array[3]) << "\n"; 
	// sizeof(array[3]) :  4
}

/----------------------------------------------
/----------------------------------------------